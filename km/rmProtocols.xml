<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="IrpProtocols2html.xsl"?>
<!--
This is a patch file for IrpProtocols.xml included in IrpTransmogrifier.  When displayed, its version number
is appended to that of the main file, with '+' as separator.
-->
<!--
Addendum to Additional notes on usage in RMIR:

There is now an additional element in the rm namespace.  Logically its description should follow after
rm:assignment.  It is

rm:translator:  Like rm:assignment, this may occur multiple times with a single attribute "target" whose
allowed values are the same as those allowed for the "target" attribute of rm:assignment, though not
necessarily a value used in an rm:assignment element.  This is used when a protocol parameter evaluates to
a choice index, to allow RMIR to display the choice name rather than the numerical choice index.  The content
of the element has the form <parameter name> = <choice list>, where the choice list is a list of choice names
separated by vertical bars.  As an example, the NEC1-f16 protocol includes an executor with protocol name
NEC1-Yamaha that includes the element
    <rm:translator target="Z">YStyle=NEC|Y1|Y2|Y3</rm:translator>
where Z is assigned a value by the definitionSpec of the executor descriptor.

The rm:assignment element may be used to suppress the display in RMIR of a protocol parameter by assigning
the value -1 to that parameter.  The NEC1-Yamaha example uses this to prevent the values of parameters E,
X and Y from being displayed.  X and Y are auxiliary parameters used in the calculation of Z and the display
of E is superseded by that of YStyle, which is a representation of Z.  The value -1 can also be used to rename 
a parameter by adding two assignments in which the first is an assignment to the new name of that parameter of
its value by its old name, the second is an assignment to the old name of -1.  The NEC1-f16 protocol has an
example of this as well, where E is renamed as OBC2.

The executor that is used for the decode shown in the Learned Signals tab of RMIR is selected as follows.
The uei-executor parameters of type XML are are considered first, followed by the remaining ones.  The
executor used is the first that is valid for the decode concerned.  An executor is valid for a decode if
it has no qualifier or if the qualifier evaluates true for that decode.

RMIR v2.10 build 2 and later support a minor enhancement to the second draft of the Executor Descriptor
Notation.  Additional names defined in a definitionSpec may be used in a qualifier as well as in a
parameterSpec.  Also, the three bracketted parts of an an executor descriptor, namely the infoSpec, 
definitionSpec and parameterSpec may be given in any order.  This enables a definitionSpec to precede
an infoSpec containing a qualifier if that qualifier uses the additional defined names.  This ordering
is not required but it improves the readability of the entry.
-->
<irp:protocols xmlns="http://www.w3.org/1999/xhtml"
               xmlns:xi="http://www.w3.org/2001/XInclude"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns:rm="https://sourceforge.net/projects/controlremote/files/RemoteMaster"
               version="rm2020-03-15"
               xsi:schemaLocation="http://www.harctoolbox.org/irp-protocols http://www.harctoolbox.org/schemas/irp-protocols.xsd"
               xmlns:irp="http://www.harctoolbox.org/irp-protocols">	       
    <irp:protocol name="NEC">
        <irp:parameter name="uei-executor">011A:JP1[D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,,0]</irp:parameter>
        <irp:parameter name="uei-executor">01BA[D,S;F:8,~F:8]</irp:parameter>
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,~F:8;D]</irp:parameter>
    </irp:protocol>
    <irp:protocol name="NEC1">
        <irp:parameter name="uei-executor">011A:JP1[D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,0,0]</irp:parameter>
        <irp:parameter name="uei-executor">01BA[D,S;F:8,~F:8]</irp:parameter>
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,~F:8;D,0]</irp:parameter>
    </irp:protocol> 
    <irp:protocol name="NEC2">
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,~F:8;D,1]</irp:parameter>
        <irp:parameter name="uei-executor">011A:JP1[D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,1,0]</irp:parameter>
    </irp:protocol>     
    <irp:protocol name="NEC-f16">
        <irp:parameter name="uei-executor" type="xml">
            <rm:deployment executor="01AD{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)[;D,S,F,E]">
                <rm:protocolName>NEC-Yamaha</rm:protocolName>
                <rm:translator target="Z">YStyle=NEC|Y1|Y2|Y3</rm:translator>
                <rm:commentItem>NStyle=NEC1</rm:commentItem>
                <rm:assignment target="E">-1</rm:assignment>
                <rm:assignment target="X">-1</rm:assignment>
                <rm:assignment target="Y">-1</rm:assignment>
            </rm:deployment>
        </irp:parameter>
        <irp:parameter name="uei-executor" type="xml">
            <rm:deployment executor="01AD[;D,S,F,E]">
                <rm:assignment target="OBC2">E</rm:assignment>
                <rm:assignment target="E">-1</rm:assignment>
            </rm:deployment>
        </irp:parameter>
        <irp:parameter name="uei-executor">011A:JP1{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)
            [D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,,Z]</irp:parameter>
        <irp:parameter name="uei-executor">01BA[D,S;F,E]</irp:parameter>
        <irp:parameter name="uei-executor">01FF:JP1f16[D,S,F;E]</irp:parameter>
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,E;D]</irp:parameter>
    </irp:protocol>
    <irp:protocol name="NEC1-f16">
        <irp:parameter name="uei-executor" type="xml">
            <rm:deployment executor="01AD{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)[;D,S,F,E]">
                <rm:protocolName>NEC1-Yamaha</rm:protocolName>
                <rm:translator target="Z">YStyle=NEC|Y1|Y2|Y3</rm:translator>
                <rm:commentItem>NStyle=NEC1</rm:commentItem>
                <rm:assignment target="E">-1</rm:assignment>
                <rm:assignment target="X">-1</rm:assignment>
                <rm:assignment target="Y">-1</rm:assignment>
            </rm:deployment>
        </irp:parameter>
        <irp:parameter name="uei-executor"></irp:parameter>
        <irp:parameter name="uei-executor" type="xml">
            <rm:deployment executor="01AD[;D,S,F,E]">
                <rm:assignment target="OBC2">E</rm:assignment>
                <rm:assignment target="E">-1</rm:assignment>
            </rm:deployment>
        </irp:parameter>
        <irp:parameter name="uei-executor">011A:JP1{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)
            [D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,0,Z]</irp:parameter>
        <irp:parameter name="uei-executor">01BA[D,S;F,E]</irp:parameter>
        <irp:parameter name="uei-executor">01FF:JP1f16[D,S,F;E]</irp:parameter>
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,E;D,0]</irp:parameter>
    </irp:protocol>
    <irp:protocol name="NEC1-rnc">
        <irp:parameter name="uei-executor"><![CDATA[01AD[;D,S,F,~(((F:4)<<4)|F:4:4):8]]]></irp:parameter>
    </irp:protocol>
    <irp:protocol name="NEC2-f16">
        <irp:parameter name="uei-executor" type="xml">
            <rm:deployment executor="01AD{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)[;D,S,F,E]">
                <rm:protocolName>NEC2-Yamaha</rm:protocolName>
                <rm:translator target="Z">YStyle=NEC|Y1|Y2|Y3</rm:translator>
                <rm:commentItem>NStyle=NEC2</rm:commentItem>
                <rm:assignment target="E">-1</rm:assignment>
                <rm:assignment target="X">-1</rm:assignment>
                <rm:assignment target="Y">-1</rm:assignment>
            </rm:deployment>
        </irp:parameter>
        <irp:parameter name="uei-executor">01FF:JP1f16[D,S,F,1;E]</irp:parameter>
        <irp:parameter name="uei-executor">011A:JP1{X=F+E+2,Y=(F+E+1):1,Z=2*Y+X:1:7}(;X:5:2==0?(X:2)!=3:0)
            [D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,1,Z]</irp:parameter>
        <irp:parameter name="uei-executor">01EA(;S==~D:8)[F,E;D,1]</irp:parameter>
    </irp:protocol>
    <irp:protocol name="NECx1">
        <irp:parameter name="uei-executor">011A:JP1[D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,2,0]</irp:parameter>
    </irp:protocol>
    <irp:protocol name="NECx2">
        <irp:parameter name="uei-executor">011A:JP1[D?0,S?0,D?1,S?1,D?2,S?2,D?3,S?3;F,??,3,0]</irp:parameter>
    </irp:protocol>
</irp:protocols>